<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

	<html>
	  <head>
	  <link href="../../layout/styles.css" rel="stylesheet" type="text/css"/>
<script src="../scripts.js" type="text/javascript"></script>
	  <title>Access all POWER!</title>

	  </head>

	  <body>
	  
<h2>Basic power supply control</h2>
<h3>There is a newer version of this tool available in labtools/powersupplies/web. The new version can handle several users monitoring values (uses caching), this one is single-user only.</h3>
<p id="content">
Platzhalter
</p>

<script language="javascript">

function update(data) {
  if(!document.getElementById("content").innerHTML) return;
  document.getElementById("content").innerHTML  = data;
  }

getdata('build_index.pl',update); 
</script>

<p id="conf_area">
Note that you need to have libdevice-serialport-perl or perl-Device-SerialPort<br> 
installed and that the /dev/ttyUSBn need to be accessible by normal users.<br>
Feel free to alter the config file to accommodate your needs!<br>
Please don't use the # character to comment out lines<br>
Tested with HMC8043, HMP4040, HMP4030, PSP405, PSP2010, PST3202, PWRSW
<br><pre>
//PWRSPLY:/path/to/device:Speed:Name:Type:Channels
//PWRSPLY:IP0.0.0.0:Port:Name:Type:Channels
PWRSPLY:/dev/ttyUSB0:9600:PST3202:PST:3
PWRSPLY:/dev/ttyUSB0:115200:HMP4030:HMP:3
PWRSPLY:IP192.168.0.56:5050:HMP4040:HMP:4
PWRSPLY:/dev/FTDI_FT232R_USB_UART_AH02HFZW:2400:PSP2010:PSP:1
PWRSPLY:/dev/FTDI_FT232R_USB_UART_A900LJXB:0:Desk:PWRSW:4</pre>
<br>
<TEXTAREA NAME="Address" id="config_field" ROWS=10 COLS=50 >
Platzhalter
</TEXTAREA>
<br>
<input type="button" onClick="save_conf()" value="save">
<input type="button" onClick="reload_page()" value="reload page">

<script language="javascript">

function save_conf() {
	var field_content = document.getElementById("config_field").value;
	field_content = field_content.replace(/\n\r?/g, '&');
	//alert(field_content);		
	getdata('save_conf.pl?'+field_content,alert); 

  //debug//document.getElementById("content").innerHTML  = field_content;
  }

function reload_page() {
	window.location.reload();
}

function write_field(data) {
  if(!document.getElementById("config_field").value) return;
  document.getElementById("config_field").value  = data;
  }

  
getdata('pwr.conf',write_field); 
</script>

</p>


	  </body>

	</html>








