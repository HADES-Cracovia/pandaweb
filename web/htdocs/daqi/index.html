<html>
  <head>
    <title>DAQi Control</title>

    <link rel="stylesheet" type="text/css" href="spectrum/spectrum.css">
<!--    <link rel="stylesheet" type="text/css" href="spectrum/docs/bootstrap.css"> -->
    <script type="text/javascript" src="spectrum/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="spectrum/spectrum.js"></script>
    <link href="../layout/styles.css" rel="stylesheet" type="text/css"/>
    <style type="text/css">

      
    </style>
  
  </head>

  <body class="index">

<h2><a href="..">DAQi Control</a></h2>

<h3>Mood Changer</h3>
<div class="index" style="text-align: center"> 
<div style="margin: auto; width: 436px">
<svg style="display: block"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="428.51987"
   height="172.5838"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.3.1 r9886"
   sodipodi:docname="daqi.svg">
  <defs
     id="defs4">
    <linearGradient
       id="backGrad">
      <stop
         id="backGradStart"
         offset="0"
         style="stop-color:#ff0000;stop-opacity:1;" />
      <stop
         id="backGradStop"
         offset="1"
         style="stop-color:#f0f0f0;stop-opacity:1;" />
    </linearGradient>
    <linearGradient
       id="frontGrad">
      <stop
         style="stop-color:#ff0000;stop-opacity:1;"
         offset="0"
         id="frontGradStart" />
      <stop
         style="stop-color:#f0f0f0;stop-opacity:1;"
         offset="1"
         id="frontGradStop" />
    </linearGradient>
    <radialGradient
       inkscape:collect="always"
       xlink:href="#frontGrad"
       id="radialGradient3763"
       cx="242.94493"
       cy="226.6479"
       fx="242.94493"
       fy="226.6479"
       r="89.184105"
       gradientTransform="matrix(1,0,0,1.0310521,0,-7.0378822)"
       gradientUnits="userSpaceOnUse" />
    <radialGradient
       inkscape:collect="always"
       xlink:href="#backGrad"
       id="radialGradient3860"
       gradientUnits="userSpaceOnUse"
       gradientTransform="matrix(1,0,0,1.0310521,0,-7.0378822)"
       cx="242.94493"
       cy="226.6479"
       fx="242.94493"
       fy="226.6479"
       r="89.184105" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="351.43692"
     inkscape:cy="213.07689"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     showguides="true"
     inkscape:guide-bbox="true"
     inkscape:window-width="477"
     inkscape:window-height="415"
     inkscape:window-x="720"
     inkscape:window-y="314"
     inkscape:window-maximized="0"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-100.02578,-172.99166)">
    <path
       sodipodi:type="arc"
       style="fill:url(#radialGradient3763);fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       id="path2985"
       sodipodi:cx="245.71428"
       sodipodi:cy="226.6479"
       sodipodi:rx="91.428574"
       sodipodi:ry="91.428574"
       d="m 324.89375,272.36219 c -25.24731,43.72961 -81.16415,58.71248 -124.89376,33.46518 -43.72961,-25.2473 -58.71248,-81.16414 -33.46518,-124.89375 25.24731,-43.72962 81.16414,-58.71249 124.89376,-33.46518 13.89889,8.02453 25.44064,19.56628 33.46518,33.46517"
       sodipodi:start="0.52359878"
       sodipodi:end="5.7595865"
       sodipodi:open="true"
       transform="matrix(0,1.0053617,-1.087568,0,446.49501,18.4169)" />
    <g
       id="g3796">
      <path
         transform="matrix(0.8660254,0.5,-0.5,0.8660254,4.9131161,-157.36749)"
         d="m 396.42857,225.75504 c 0,5.81871 -2.87817,10.53571 -6.42857,10.53571 -3.5504,0 -6.42857,-4.717 -6.42857,-10.53571 0,-5.81872 2.87817,-10.53572 6.42857,-10.53572 3.5504,0 6.42857,4.717 6.42857,10.53572 z"
         sodipodi:ry="10.535714"
         sodipodi:rx="6.4285712"
         sodipodi:cy="225.75504"
         sodipodi:cx="390"
         id="path3765"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none"
         sodipodi:type="arc" />
      <path
         sodipodi:type="arc"
         style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none"
         id="path3767"
         sodipodi:cx="390"
         sodipodi:cy="225.75504"
         sodipodi:rx="6.4285712"
         sodipodi:ry="10.535714"
         d="m 396.42857,225.75504 c 0,5.81871 -2.87817,10.53571 -6.42857,10.53571 -3.5504,0 -6.42857,-4.717 -6.42857,-10.53571 0,-5.81872 2.87817,-10.53572 6.42857,-10.53572 3.5504,0 6.42857,4.717 6.42857,10.53572 z"
         transform="matrix(-0.8660254,0.5,0.5,0.8660254,395.08689,-157.36749)" />
    </g>
    <g
       id="g3785"
       transform="matrix(1,0,0,0.85944279,0.37115795,38.029877)">
      <path
         sodipodi:nodetypes="ccc"
         inkscape:connector-curvature="0"
         id="path3777"
         d="m 136.24142,270.65441 -0.4631,4.01786 -4.39949,2.76785"
         style="fill:none;stroke:#000000;stroke-width:1.13872409px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <path
         style="fill:none;stroke:#000000;stroke-width:1.13872409px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
         d="m 263.01627,270.56512 0.4631,4.01786 4.39949,2.76785"
         id="path3779"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="ccc" />
      <path
         sodipodi:nodetypes="ccccc"
         inkscape:connector-curvature="0"
         id="path3783"
         d="m 134.9185,275.55487 c 49.64286,63.92857 85.38179,65.17857 129.48893,0 l -1.10386,-1.67483 c -41.78571,58.75 -80.17857,58.39286 -127.32143,0 z"
         style="fill:#000000;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
    </g>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 150.35714,345.04075 99.46429,0"
       id="path3840"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cc" />
    <path
       transform="matrix(0,1.0053617,-1.087568,0,675.06644,18.4169)"
       sodipodi:open="true"
       sodipodi:end="5.7595865"
       sodipodi:start="0.52359878"
       d="m 324.89375,272.36219 c -25.24731,43.72961 -81.16415,58.71248 -124.89376,33.46518 -43.72961,-25.2473 -58.71248,-81.16414 -33.46518,-124.89375 25.24731,-43.72962 81.16414,-58.71249 124.89376,-33.46518 13.89889,8.02453 25.44064,19.56628 33.46518,33.46517"
       sodipodi:ry="91.428574"
       sodipodi:rx="91.428574"
       sodipodi:cy="226.6479"
       sodipodi:cx="245.71428"
       id="path3842"
       style="fill:url(#radialGradient3860);fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       sodipodi:type="arc" />
    <path
       sodipodi:nodetypes="cc"
       inkscape:connector-curvature="0"
       id="path3858"
       d="m 378.92857,345.04075 99.46429,0"
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
  </g>
</svg>
<div style="width: 217px; text-align: center; float: left; padding-top: 20px;">
  <input id="front">
</div>
<div style="width: 217px; text-align: center; float: left; padding-top: 20px; ">
  <input id="back">
</div>
</div>
<div style="clear: both"></div>
</div>

<script type="text/javascript">
  function updateColor(led, color) {
    var colorStr = color.toHexString().substr(1);
    xmlhttp=new XMLHttpRequest();
    xmlhttp.open("GET","update.pl?-" + led + "-" + colorStr + "-",true);
    xmlhttp.send(null);

    var id = ((led == 'f') ? "front" : "back") + "Grad";
    $("#"+id+"Start")[0].style.stopColor = color.toHexString();
    $("#"+id+"Stop")[0].style.stopColor = "rgb(" + (color._r*0.5 + 255*0.45) + "," + (color._g*0.5 + 255*0.45) + "," + (color._b*0.5 + 255*0.45) + ")";
  }

  $(function() {
      $("#front").spectrum({
        flat: false,
        showInput: true,
        change: function(color) {
          updateColor("f", color);
        }
      });

      $("#back").spectrum({
        flat: false,
        showInput: true,
        change: function(color) {
          updateColor("b", color);
        }
      });

      updateColor("f", $("#front").spectrum("get"));
      window.setTimeout(function(){
        updateColor("b", $("#back").spectrum("get"));
      }, 500);
  });

  
</script>
</body>
</html>